# إصلاح واجهة صفحة دفع العملاء

## المطلوب
إخفاء بعض الحقول من واجهة المستخدم في صفحة دفع العملاء مع الاحتفاظ بإرسال قيم ثابتة للباك إند.

## الحقول المطلوب إخفاؤها
1. **الحساب** - إرسال قيمة ثابتة (ID = 1)
2. **طريقة الدفع** - إرسال قيمة ثابتة (ID = 1)
3. **رقم المرجع** - إرسال قيمة فارغة
4. **ملاحظات** - إرسال قيمة فارغة

## الحقول المتبقية في الواجهة
1. **المبلغ المدفوع** - يبقى مرئياً ومطلوب
2. **تاريخ الاستلام** - يبقى مرئياً ومطلوب
3. **تخصيم المبلغ على الفواتير** - يبقى كما هو

## الإصلاحات المطبقة

### 1. تحديث القيم الافتراضية
```typescript
const [formData, setFormData] = useState({
    amount: '',
    account_id: '1', // قيمة ثابتة للحساب
    payment_method_id: '1', // قيمة ثابتة لطريقة الدفع
    received_at: new Date().toISOString().split('T')[0],
    reference_no: '', // سيتم إرسالها فارغة
    notes: '', // سيتم إرسالها فارغة
})
```

### 2. إضافة حقول مخفية لإرسال القيم
```typescript
{/* إرسال القيم الثابتة كحقول مخفية */}
<input type="hidden" name="account_id" value={formData.account_id} />
<input type="hidden" name="payment_method_id" value={formData.payment_method_id} />
<input type="hidden" name="reference_no" value={formData.reference_no} />
<input type="hidden" name="notes" value={formData.notes} />
```

### 3. إزالة الحقول من الواجهة
تم إزالة الحقول التالية من الواجهة:
- حقل اختيار الحساب
- حقل اختيار طريقة الدفع
- حقل رقم المرجع
- حقل الملاحظات

### 4. تبسيط رسائل التحقق
```typescript
// إزالة رسائل التحقق للحقول المخفية
<Button 
    type="submit" 
    disabled={Math.abs(totalAllocated - parseFloat(formData.amount)) > 0.01}
>
    تسجيل الدفع
</Button>
```

### 5. إزالة الكود التشخيصي
تم إزالة الكود التشخيصي الذي كان يظهر تحذيرات حول الحسابات وطرق الدفع.

## النتيجة

✅ **واجهة مبسطة**: تم إخفاء الحقول غير المطلوبة  
✅ **قيم ثابتة**: يتم إرسال قيم ثابتة للحساب وطريقة الدفع  
✅ **الباك إند سليم**: لم يتم تغيير أي شيء في الباك إند  
✅ **وظائف محفوظة**: جميع الوظائف الأساسية تعمل كما هو مطلوب  
✅ **تخصيم الفواتير**: يبقى يعمل بشكل صحيح  

## الملفات المعدلة

- `resources/js/pages/customers/payment.tsx`

## ملاحظات مهمة

1. **القيم الثابتة**: الحساب وطريقة الدفع يستخدمان ID = 1
2. **الباك إند لم يتغير**: جميع التحققات والوظائف في الباك إند تعمل كما هي
3. **البيانات محفوظة**: رقم المرجع والملاحظات يتم إرسالها فارغة
4. **الواجهة مبسطة**: المستخدم يرى فقط الحقول المطلوبة

